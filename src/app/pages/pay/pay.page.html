<app-header></app-header>

<ion-content class="ion-text-center" >
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <ion-grid>
    <ion-row class="ticket-Resume">
      <ion-col id="ticket-Resume-L">
        <ion-row >
          <ion-img id="ticket_image" src="../../assets/image_zepe/icon-scanner-1.svg"></ion-img>
          <ion-label id="ticket_image_label"> Consommé:</ion-label>
        </ion-row>
      </ion-col>
      <ion-col *ngIf="partenaireConf != null" id="ticket-Resume-R">
        <ion-label> <span>{{totalConso}}</span> / {{totalAmount}}F</ion-label>
      </ion-col>
    </ion-row>

    <ion-row class=" ion-justify-content-center">
      <ion-col class="main ion-text-centers" >
          <div *ngIf="!generate"  >
            <ion-fab  vertical="center"  horizontal="center" >
              <ion-fab-button (click)="pay()" [disabled]="account==null">
                <ion-label>Payez !</ion-label>
              </ion-fab-button>
            </ion-fab></div>
          <div *ngIf="generate" id="qrcode">
            <ngx-qrcode style="justify-content: center;" width=300 [elementType]="elementType" [errorCorrectionLevel]="correctionLevel"
                        [value]="value" cssClass="qrCode">
            </ngx-qrcode>
          </div>

      </ion-col>
    </ion-row>


    <ion-row class=" ion-justify-content-center">
      <ion-col id=history class="ion-justify-content-center "  style="background-color:  #eeeeee;">
        <ion-row id="history_border_row">
          <ion-col id="history_Title" size="7" >
            <ion-label>Consommation du mois</ion-label>
          </ion-col>
          <ion-col id="history_url" size="4">
            <ion-label (click)="onHistory()"> Historique </ion-label>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col id="conso_amount_label" size="6">
            <ion-label>Montant consommé &nbsp;</ion-label>
          </ion-col>
          <ion-col id="conso_amount_value" size="6">
            <ion-label> {{totalConso}} Fcfa</ion-label>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col id="rest_amount_label" size="6">
            <ion-label>&nbsp;&nbsp;&nbsp;Montant restant &nbsp;</ion-label>
          </ion-col>
          <ion-col id="rest_amount_value" size="6">
            <ion-label> {{restAmount}} Fcfa</ion-label>
          </ion-col>
        </ion-row>
       <!-- <ion-row   *ngFor="let day of historyMonth "  class="ion-align-items-center ion-text-justify history_row">
          <ion-col class="ion-text-center">
            <ion-label>{{day.date | date : 'dd MMM HH:mm' : '' :'fr-FR' }} </ion-label>
          </ion-col >
          <ion-col class="ion-text-center">
            <ion-label>{{day.trade.name}}</ion-label>
          </ion-col>
          <ion-col class="ion-text-center">
            <div class="tickets">
              <ion-label  slot="primary" class="ticket_font"><span>1</span> ticket</ion-label>
            </div>
          </ion-col>
      </ion-row>-->
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
